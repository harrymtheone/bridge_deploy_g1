# Unitree G1 Robot Configuration for DreamWAQ Algorithm

robot:
  type: "G1"
  num_dof: 29

  joints:
    # Left Leg (6)
    - name: "leg_l1_joint"  # Hip Pitch
      activated: true
      rl_kp: 40.18
      rl_kd: 2.558
      control_kp: 40.18
      control_kd: 2.558
      default_pos: -0.312
      torque_limit: 88.0

    - name: "leg_l2_joint"  # Hip Roll
      activated: true
      rl_kp: 99.11
      rl_kd: 6.309
      control_kp: 99.11
      control_kd: 6.309
      default_pos: 0.0
      torque_limit: 139.0

    - name: "leg_l3_joint"  # Hip Yaw
      activated: true
      rl_kp: 40.18
      rl_kd: 2.558
      control_kp: 40.18
      control_kd: 2.558
      default_pos: 0.0
      torque_limit: 88.0

    - name: "leg_l4_joint"  # Knee
      activated: true
      rl_kp: 99.11
      rl_kd: 6.309
      control_kp: 99.11
      control_kd: 6.309
      default_pos: 0.669
      torque_limit: 139.0

    - name: "leg_l5_joint"  # Ankle Pitch
      activated: true
      rl_kp: 28.50
      rl_kd: 1.814
      control_kp: 28.50
      control_kd: 1.814
      default_pos: -0.363
      torque_limit: 50.0

    - name: "leg_l6_joint"  # Ankle Roll
      activated: true
      rl_kp: 28.50
      rl_kd: 1.814
      control_kp: 28.50
      control_kd: 1.814
      default_pos: 0.0
      torque_limit: 50.0

    # Right Leg (6)
    - name: "leg_r1_joint"  # Hip Pitch
      activated: true
      rl_kp: 40.18
      rl_kd: 2.558
      control_kp: 40.18
      control_kd: 2.558
      default_pos: -0.312
      torque_limit: 88.0

    - name: "leg_r2_joint"  # Hip Roll
      activated: true
      rl_kp: 99.11
      rl_kd: 6.309
      control_kp: 99.11
      control_kd: 6.309
      default_pos: 0.0
      torque_limit: 139.0

    - name: "leg_r3_joint"  # Hip Yaw
      activated: true
      rl_kp: 40.18
      rl_kd: 2.558
      control_kp: 40.18
      control_kd: 2.558
      default_pos: 0.0
      torque_limit: 88.0

    - name: "leg_r4_joint"  # Knee
      activated: true
      rl_kp: 99.11
      rl_kd: 6.309
      control_kp: 99.11
      control_kd: 6.309
      default_pos: 0.669
      torque_limit: 139.0

    - name: "leg_r5_joint"  # Ankle Pitch
      activated: true
      rl_kp: 28.50
      rl_kd: 1.814
      control_kp: 28.50
      control_kd: 1.814
      default_pos: -0.363
      torque_limit: 50.0

    - name: "leg_r6_joint"  # Ankle Roll
      activated: true
      rl_kp: 28.50
      rl_kd: 1.814
      control_kp: 28.50
      control_kd: 1.814
      default_pos: 0.0
      torque_limit: 50.0

    # Waist (3)
    - name: "waist_yaw_joint"
      activated: true
      rl_kp: 40.18
      rl_kd: 2.558
      control_kp: 40.18
      control_kd: 2.558
      default_pos: 0.0
      torque_limit: 88.0

    - name: "waist_roll_joint"
      activated: true
      rl_kp: 28.50
      rl_kd: 1.814
      control_kp: 28.50
      control_kd: 1.814
      default_pos: 0.0
      torque_limit: 50.0

    - name: "waist_pitch_joint"
      activated: true
      rl_kp: 28.50
      rl_kd: 1.814
      control_kp: 28.50
      control_kd: 1.814
      default_pos: 0.0
      torque_limit: 50.0

    # Left Arm (7)
    - name: "arm_l1_joint"  # Shoulder Pitch
      activated: false
      rl_kp: 14.25
      rl_kd: 0.907
      control_kp: 14.25
      control_kd: 0.907
      default_pos: 0.2
      torque_limit: 25.0

    - name: "arm_l2_joint"  # Shoulder Roll
      activated: false
      rl_kp: 14.25
      rl_kd: 0.907
      control_kp: 14.25
      control_kd: 0.907
      default_pos: 0.2
      torque_limit: 25.0

    - name: "arm_l3_joint"  # Shoulder Yaw
      activated: false
      rl_kp: 14.25
      rl_kd: 0.907
      control_kp: 14.25
      control_kd: 0.907
      default_pos: 0.0
      torque_limit: 25.0

    - name: "arm_l4_joint"  # Elbow
      activated: false
      rl_kp: 14.25
      rl_kd: 0.907
      control_kp: 14.25
      control_kd: 0.907
      default_pos: 0.6
      torque_limit: 25.0

    - name: "arm_l5_joint"  # Wrist Roll
      activated: false
      rl_kp: 14.25
      rl_kd: 0.907
      control_kp: 14.25
      control_kd: 0.907
      default_pos: 0.0
      torque_limit: 25.0

    - name: "arm_l6_joint"  # Wrist Pitch
      activated: false
      rl_kp: 16.78
      rl_kd: 1.068
      control_kp: 16.78
      control_kd: 1.068
      default_pos: 0.0
      torque_limit: 5.0

    - name: "arm_l7_joint"  # Wrist Yaw
      activated: false
      rl_kp: 16.78
      rl_kd: 1.068
      control_kp: 16.78
      control_kd: 1.068
      default_pos: 0.0
      torque_limit: 5.0

    # Right Arm (7)
    - name: "arm_r1_joint"  # Shoulder Pitch
      activated: false
      rl_kp: 14.25
      rl_kd: 0.907
      control_kp: 14.25
      control_kd: 0.907
      default_pos: 0.2
      torque_limit: 25.0

    - name: "arm_r2_joint"  # Shoulder Roll
      activated: false
      rl_kp: 14.25
      rl_kd: 0.907
      control_kp: 14.25
      control_kd: 0.907
      default_pos: -0.2
      torque_limit: 25.0

    - name: "arm_r3_joint"  # Shoulder Yaw
      activated: false
      rl_kp: 14.25
      rl_kd: 0.907
      control_kp: 14.25
      control_kd: 0.907
      default_pos: 0.0
      torque_limit: 25.0

    - name: "arm_r4_joint"  # Elbow
      activated: false
      rl_kp: 14.25
      rl_kd: 0.907
      control_kp: 14.25
      control_kd: 0.907
      default_pos: 0.6
      torque_limit: 25.0

    - name: "arm_r5_joint"  # Wrist Roll
      activated: false
      rl_kp: 14.25
      rl_kd: 0.907
      control_kp: 14.25
      control_kd: 0.907
      default_pos: 0.0
      torque_limit: 25.0

    - name: "arm_r6_joint"  # Wrist Pitch
      activated: false
      rl_kp: 16.78
      rl_kd: 1.068
      control_kp: 16.78
      control_kd: 1.068
      default_pos: 0.0
      torque_limit: 5.0

    - name: "arm_r7_joint"  # Wrist Yaw
      activated: false
      rl_kp: 16.78
      rl_kd: 1.068
      control_kp: 16.78
      control_kd: 1.068
      default_pos: 0.0
      torque_limit: 5.0

algorithm:
  name: "DreamWAQ"
  model_name: "g1_dream_006_1800.onnx"
  dt: 0.002
  decimation: 10

  # Scaling factors (match training config)
  action_scale: 0.5
  lin_vel_scale: 2.0
  ang_vel_scale: 1.0
  dof_pos_scale: 1.0
  dof_vel_scale: 0.05
  clip_obs: 100.0

  # Action limits
  clip_actions_lower: -100.0
  clip_actions_upper: 100.0

  # Command scaling [x, y, yaw]
  commands_scale: [2.0, 2.0, 1.0]
  joystick_scale: [0.6, 0.4, 1.0]

  # DreamWAQ-specific parameters
  gait_cycle_time: 0.8       # seconds (one full gait cycle)
  sw_switch: true            # Enable stand-walk switch
  sw_lin_cmd_thresh: 0.2     # Linear command norm threshold (scaled)
  sw_yaw_cmd_thresh: 0.2     # Yaw command threshold (scaled)

control:
  # Transition times
  stand_up_time: 3
  sit_down_time: 3
  
  # Visualization
  publish_tf: true
  publish_joint_states: true

safety:
  max_lean_angle_deg: 30.0  # Maximum lean angle before stopping RL (degrees)
  torque_limit_scale: 1.5   # Global scale factor for torque limits
